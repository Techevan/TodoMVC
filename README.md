# TodoMVC
A simple implementation of TodoMVC for web programming course in Tongji Univ, using pure native JavaScript.

亮点说明：

**1、数据驱动以及diff渲染**
不同于课程材料给出的每次都将List的innerHTML置空，重新根据数据进行渲染，我在每次需要更新视图层的时候将视图层上的已有元素和数据进行比较，找到diff对需要删除的DOM节点卸载、对需要添加的进行添加、对需要修改完成状态的进行修改。通过这种方式减少DOM树的变动提高性能，同时不影响css中的animation效果的实现。

**2、手势滑动的交互方式**
通过监听触摸点的变化判断手势，完成项目左滑切换完成/未完成状态、右滑删除项目、监听长按唤出详情菜单等功能。

**3、充分考虑浏览器差异**
由于部分浏览器监听手势动作切换页面，会和左滑切换状态、右滑删除项目的动作冲突，因此右侧提供删除按钮，长按某一项目唤出的菜单中也可以通过点击事件来切换状态或删除项目，避免监听手势切换选项卡的浏览器无法使用。

**4、丰富的动画效果**
页面刷新时，标题Todos会有弹跳动画效果，项目的加载和卸载时也同样有向下向上淡入淡出的效果，详情菜单和总功能菜单同样有滑动弹出的效果，用丰富的动画带来更舒适的交互体验。

**5、某个项目内容的编辑**
通过长按项目，用户可以在弹出的详情框中编辑内容，回车保存（keyup=13），同时可以在弹出的详情菜单中切换完成/未完成状态或删除项目，并可查看项目的创建时间。

**6、搜索功能**
用户可点击条目下方的Menu按钮，唤出总菜单，在其中可进行条目的搜索。显示搜索结果后，用户可以点击All返回所有条目。

**7、过滤功能**
用户可点击条目下方的All、Done、Process三个按钮，在显示全部条目、只显示已完成的条目和只显示未完成的条目中间进行切换，激活的选项卡会通过字体颜色的变化和下划线进行提示。

**8、异常的提示和处理**
在搜索框和新建项目框中不输入任何字符就回车（keyup=13）时，会通过明显的样式改变提示输入非法，同时Todos标题会出发shake动画，引起用户注意。

**9、全CSS实现**
未引入图片资源，部分icon通过iconfont的css样式引入，Todos标题样式通过纯CSS实现，而非引入图片资源，性能更好。

数据持久化通过LocalStorage实现。线上地址：https://www.techevan.wang/TodoMVC/TodoMVC.html
二维码如下所示：

<img src='https://www.techevan.wang/TodoMVC/TodoMVC.png'/>

*说明：iOS Safari内核下，viewPort无法禁用双指缩放页面、text-decoration-style:line-through不生效，建议在Android手机使用微信X5内核浏览器或Chrome、Firefox获取最好体验*
